"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[476],{4476:function(e,r,n){n.r(r),n.d(r,{default:function(){return A}});var t=n(5671),s=n(3144),o=n(136),i=n(3668),u=n(2791),a=n(885),l="Paginator_active__zSnU9",c="Paginator_wrapper__FNd2w",g="Paginator_pageCount__RwU2A",p="Paginator_button__3c1bD",h=n(184),f=function(e){for(var r=e.totalUsersCount,n=e.pageSize,t=e.currentPage,s=e.onChangePage,o=e.portionSize,i=void 0===o?15:o,f=Math.ceil(r/n),d=[],P=1;P<=f;P++)d.push(P);var j=Math.ceil(f/i),C=(0,u.useState)(Math.ceil(t/i)),x=(0,a.Z)(C,2),w=x[0],_=x[1];(0,u.useEffect)((function(){_(Math.ceil(t/i))}),[r,t]);var v=(w-1)*i+1,m=w*i;return(0,h.jsxs)("div",{className:c,children:[w>1&&(0,h.jsx)("button",{className:p,onClick:function(){return _(w-1)},children:"\u276e"}),d.filter((function(e){return e>=v&&e<=m})).map((function(e){return(0,h.jsx)("span",{className:"".concat(t===e?l:null," ").concat(g),onClick:function(){return s(e)},children:" ".concat(e," ")},e)})),j>w&&(0,h.jsx)("button",{className:p,onClick:function(){return _(w+1)},children:"\u276f"})]})},d=n(3366);var P="User_photo__w605u",j="User_wrapper__hY0SD",C=n(3504),x=n(3193),w=["user"],_=function(e){var r=e.user,n=function(e,r){if(null==e)return{};var n,t,s=(0,d.Z)(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,w);return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("div",{children:(0,h.jsx)("button",{disabled:n.inProgressBtn.some((function(e){return e===r.id})),onClick:function(){return n.toggleFollowTC(r)},children:r.followed?"Unfollow":"Follow"})}),(0,h.jsx)("div",{children:(0,h.jsx)(C.OL,{to:"/profile/"+r.id,children:(0,h.jsx)("img",{src:r.photos.small?r.photos.small:x,alt:"avatar",className:P})})}),(0,h.jsx)("div",{children:(0,h.jsxs)("ul",{children:[(0,h.jsx)("li",{children:r.name}),(0,h.jsx)("li",{children:r.status}),(0,h.jsx)("li",{children:"user.location.country"}),(0,h.jsx)("li",{children:"user.location.city"})]})})]})},v="Users_wrapper__OlyPm",m=function(e){return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)(f,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onChangePage:e.onChangePage}),e.users.map((function(r){return(0,h.jsx)(_,{inProgressBtn:e.inProgressBtn,user:r,toggleFollowTC:e.toggleFollowTC},r.id)}))]})},F=n(364),U=n(946),S=n(3154),b=n(7343),y=n(7781),z=function(e){return e.usersPage.users},k=function(e){return e.usersPage.pageSize},T=function(e){return e.usersPage.totalUsersCount},N=function(e){return e.usersPage.currentPage},O=function(e){return e.usersPage.isFetching},Z=function(e){return e.usersPage.inProgressBtn},B=function(e){(0,o.Z)(n,e);var r=(0,i.Z)(n);function n(){var e;(0,t.Z)(this,n);for(var s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))).onChangePage=function(r){e.props.getUsers(r,e.props.pageSize)},e}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,h.jsx)(h.Fragment,{children:this.props.isFetching?(0,h.jsx)(S.Z,{}):(0,h.jsx)(m,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onChangePage:this.onChangePage,users:this.props.users,toggleFollow:this.props.toggleFollow,inProgressBtn:this.props.inProgressBtn,setToggleIsProgress:this.props.setToggleIsProgress,toggleFollowTC:this.props.toggleFollowTC})})}}]),n}(u.Component),A=(0,y.qC)((0,F.$j)((function(e){return{users:z(e),pageSize:k(e),totalUsersCount:T(e),currentPage:N(e),isFetching:O(e),inProgressBtn:Z(e)}}),{toggleFollow:U.Gm,setToggleIsProgress:U.Aw,getUsers:U.Rf,toggleFollowTC:U.Y_}),b.D)(B)},7343:function(e,r,n){n.d(r,{D:function(){return u}});var t=n(1413),s=(n(2791),n(6871)),o=n(364),i=n(184),u=function(e){return(0,o.$j)((function(e){return{isAuth:e.auth.isAuth}}),null)((function(r){return r.isAuth?(0,i.jsx)(e,(0,t.Z)({},r)):(0,i.jsx)(s.Fg,{to:"/login"})}))}}}]);
//# sourceMappingURL=476.41176a77.chunk.js.map